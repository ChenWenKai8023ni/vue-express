{"version":3,"sources":["webpack:///./src/views/login.vue?b7db","webpack:///./src/views/login.vue?dd12","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?2a23","webpack:///./src/views/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","attrs","hint","domProps","on","show","$event","target","composing","email","msg","_s","_e","hints","pwd","msgs","preventDefault","login","staticRenderFns","data","methods","$axios","method","url","params","res","user","token","window","localStorage","setItem","sessionStorage","status","JSON","stringify","alert","mounted","beforeRouteLeave","to","path","next","component"],"mappings":"yIAAA,yBAAoe,EAAG,G,yCCAve,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,OAAO,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,SAASH,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOX,EAAS,MAAEY,WAAW,UAAUC,MAAM,CAAC,KAAO,OAAO,YAAcb,EAAIc,MAAMC,SAAS,CAAC,MAASf,EAAS,OAAGgB,GAAG,CAAC,MAAQhB,EAAIiB,KAAK,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBpB,EAAIqB,MAAMH,EAAOC,OAAOR,WAAuB,OAAZX,EAAIsB,IAAclB,EAAG,IAAI,CAACJ,EAAIO,GAAGP,EAAIuB,GAAGvB,EAAIsB,QAAQtB,EAAIwB,KAAKpB,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOX,EAAO,IAAEY,WAAW,QAAQC,MAAM,CAAC,KAAO,WAAW,YAAcb,EAAIyB,MAAM,aAAe,MAAMV,SAAS,CAAC,MAASf,EAAO,KAAGgB,GAAG,CAAC,MAAQhB,EAAIiB,KAAK,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBpB,EAAI0B,IAAIR,EAAOC,OAAOR,WAAwB,OAAbX,EAAI2B,KAAevB,EAAG,IAAI,CAACJ,EAAIO,GAAGP,EAAIuB,GAAGvB,EAAI2B,SAAS3B,EAAIwB,KAAKpB,EAAG,SAAS,CAACY,GAAG,CAAC,MAAQ,SAASE,GAAgC,OAAxBA,EAAOU,iBAAwB5B,EAAI6B,MAAMX,MAAW,CAAClB,EAAIO,GAAG,QAAQH,EAAG,cAAc,CAACS,MAAM,CAAC,GAAK,cAAc,CAACb,EAAIO,GAAG,cAAc,MACtiCuB,EAAkB,GCatB,G,UAAA,CACEC,KADF,WAEI,MAAO,CACLV,MAAO,GACPK,IAAK,GACLZ,KAAM,OACNW,MAAO,KACPH,IAAK,KACLK,KAAM,OAGVK,QAAS,CACPf,KADJ,WAEMhB,KAAKqB,IAAM,KACXrB,KAAK0B,KAAO,MAEdE,MALJ,WAKA,WACsB,IAAZ5B,KAAKyB,KAA0B,IAAbzB,KAAKQ,KAI3BR,KAAKgC,OAAO,CACVC,OAAQ,MACRC,IAAK,oCACLC,OAAQ,CACNf,MAAOpB,KAAKoB,MACZK,IAAKzB,KAAKyB,OAEpB,kBAMQ,GALIW,EAAIN,KAAKO,KAAKP,KAAKQ,QACrBC,OAAOC,aAAaC,QAAQ,QAASL,EAAIN,KAAKO,KAAKP,KAAKQ,OACxDC,OAAOG,eAAeD,QAAQ,WAAW,GACzCF,OAAOG,eAAeD,QAAQ,WAAYL,EAAIN,KAAKO,KAAKP,KAAKtB,OAEnC,KAAxB4B,EAAIN,KAAKO,KAAKM,OAChB,EAAV,2CACUD,eAAeD,QAAQ,OAAQG,KAAKC,UAAUT,EAAIN,KAAKO,KAAKP,OAC5D,EAAV,mBACA,4BACU,OAAO,EAAjB,eACA,2BACU,OAAO,EAAjB,gBAvBQgB,MAAM,eA4BZC,QA9CF,aA+CEC,iBA/CF,SA+CA,OACoB,cAAZC,EAAGC,KACLC,EAAK,KAELA,OCjEyU,I,wBCQ3UC,EAAY,eACd,EACAtD,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAuB,E","file":"js/chunk-5899747c.6dbadad7.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=38d7a2c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=style&index=0&id=38d7a2c8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{staticClass:\"login-form\"},[_c('h2',[_vm._v(\"登 录\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.hint},domProps:{\"value\":(_vm.email)},on:{\"keyup\":_vm.show,\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),(_vm.msg !== null)?_c('p',[_vm._v(_vm._s(_vm.msg))]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.pwd),expression:\"pwd\"}],attrs:{\"type\":\"password\",\"placeholder\":_vm.hints,\"autocomplete\":\"on\"},domProps:{\"value\":(_vm.pwd)},on:{\"keyup\":_vm.show,\"input\":function($event){if($event.target.composing){ return; }_vm.pwd=$event.target.value}}}),(_vm.msgs !== null)?_c('p',[_vm._v(_vm._s(_vm.msgs))]):_vm._e(),_c('button',{on:{\"click\":function($event){$event.preventDefault();return _vm.login($event)}}},[_vm._v(\"登录\")]),_c('router-link',{attrs:{\"to\":\"/register\"}},[_vm._v(\"还没账号去注册\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <form class=\"login-form\">\r\n      <h2>登 录</h2>\r\n      <input type=\"text\" v-model=\"email\" :placeholder=\"hint\" @keyup=\"show\" />\r\n      <p v-if=\"msg !== null\">{{ msg }}</p>\r\n      <input @keyup=\"show\" type=\"password\" v-model=\"pwd\" :placeholder=\"hints\" autocomplete=\"on\" />\r\n      <p v-if=\"msgs !== null\">{{ msgs }}</p>\r\n      <button @click.prevent=\"login\">登录</button>\r\n      <router-link to=\"/register\">还没账号去注册</router-link>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      pwd: \"\",\r\n      hint: \"用户邮箱\",\r\n      hints: \"密码\",\r\n      msg: null,\r\n      msgs: null\r\n    };\r\n  },\r\n  methods: {\r\n    show() {\r\n      this.msg = null;\r\n      this.msgs = null;\r\n    },\r\n    login() {\r\n      if (this.pwd == \"\" || this.name == \"\") {\r\n        alert(\"邮箱或密码不能为空\");\r\n        return;\r\n      }\r\n      this.$axios({\r\n        method: \"get\",\r\n        url: \"http://127.0.0.1:3000/users/login\",\r\n        params: {\r\n          email: this.email,\r\n          pwd: this.pwd\r\n        }\r\n      }).then(res => {\r\n        if (res.data.user.data.token) {\r\n          window.localStorage.setItem(\"token\", res.data.user.data.token);\r\n          window.sessionStorage.setItem(\"isLogin\", true);\r\n          window.sessionStorage.setItem(\"username\", res.data.user.data.name);\r\n        }\r\n        if (res.data.user.status == 200) {\r\n          this.$store.commit(\"GET_USER\", res.data.user.data);\r\n          sessionStorage.setItem(\"user\", JSON.stringify(res.data.user.data));\r\n          this.$router.go(-1);\r\n        } else if (res.data.user.status == 501) {\r\n          return (this.msgs = \"用户密码不正确\");\r\n        } else if (res.data.user.status == 500) {\r\n          return (this.msg = \"用户名错误\");\r\n        }\r\n      });\r\n    }\r\n  },\r\n  mounted() {},\r\n  beforeRouteLeave(to, from, next) {\r\n    if (to.path === \"/register\") {\r\n      next(\"/\");\r\n    } else {\r\n      next();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\ndiv {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: url(\"https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3453&q=80\")\r\n    fixed no-repeat;\r\n  background-size: cover;\r\n}\r\n\r\n.login-form {\r\n  width: 300px;\r\n  height: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 40px;\r\n  text-align: center;\r\n  position: relative;\r\n  z-index: 100;\r\n  background: inherit;\r\n  border-radius: 18px;\r\n  overflow: hidden; /* 隐藏多余的模糊效果 */\r\n}\r\n\r\n.login-form::before {\r\n  content: \"\";\r\n  width: calc(100% + 20px);\r\n  height: calc(100% + 20px);\r\n  position: absolute;\r\n  top: -10px;\r\n  left: -10px;\r\n  overflow: hidden;\r\n  background: inherit;\r\n  box-shadow: inset 0 0 0 200px rgba(255, 255, 255, 0.25);\r\n  filter: blur(6px);\r\n  z-index: -1;\r\n}\r\n\r\n.login-form h2 {\r\n  font-size: 18px;\r\n  font-weight: 400;\r\n  color: #3d5245;\r\n}\r\n\r\n.login-form input,\r\n.login-form button {\r\n  margin: 6px 0;\r\n  height: 36px;\r\n  border: none;\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n  border-radius: 4px;\r\n  padding: 0 14px;\r\n  color: #3d5245;\r\n}\r\n\r\n.login-form input::placeholder {\r\n  color: #3d5245;\r\n}\r\n\r\n/* 补充，取消选中高亮蓝框 */\r\n.login-form button:focus,\r\n.login-form input:focus {\r\n  outline: 0;\r\n}\r\n\r\n.login-form button {\r\n  margin-top: 24px;\r\n  background-color: rgba(57, 88, 69, 0.4);\r\n  color: white;\r\n  position: relative;\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  transition: 0.4s;\r\n}\r\n\r\n.login-form button:hover {\r\n  background-color: rgba(12, 80, 38, 0.67);\r\n}\r\n\r\n.login-form button:focus {\r\n  outline: 0;\r\n}\r\n\r\n.login-form button::before,\r\n.login-form button::after {\r\n  content: \"\";\r\n  display: block;\r\n  width: 80px;\r\n  height: 100%;\r\n  background: rgba(179, 255, 210, 0.5);\r\n  opacity: 0.5;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  transform: skewX(-15deg);\r\n  filter: blur(30px);\r\n  overflow: hidden;\r\n  transform: translateX(-100px);\r\n}\r\n\r\n.login-form button::after {\r\n  width: 40px;\r\n  background: rgba(179, 255, 210, 0.3);\r\n  left: 60px;\r\n  opacity: 0;\r\n  filter: blur(5px);\r\n}\r\n\r\n.login-form button:hover::before {\r\n  transition: 1s;\r\n  transform: translateX(320px);\r\n  opacity: 0.7;\r\n}\r\n\r\n.login-form button:hover::after {\r\n  transition: 1s;\r\n  transform: translateX(320px);\r\n  opacity: 1;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=38d7a2c8&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=38d7a2c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38d7a2c8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}